Задача с блокирующей очередью:
Тут 3 потока:

main-поток — тот, в котором выполняется main(...).

Worker 0 — создаётся в первом проходе цикла for (int i = 0; i < 2; i++).

Worker 1 — создаётся во втором проходе цикла.

То есть:

main — это производитель (кладёт задачи в очередь),

worker 0 и worker 1 — потребители (берут задачи из очереди и выполняют).

